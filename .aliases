# -----------------------------
# General Aliases (Portable)
# -----------------------------

# Colorized and readable `ls`
alias ls='ls --color=auto'
alias ll='ls -lah'       # Long format with hidden files
alias la='ls -A'         # Show hidden files
alias l='ls -CF'

# Navigation
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias ~='cd ~'

# Safer file operations
alias cp='cp -iv'  # Prompt before overwriting
alias mv='mv -iv'
alias rm='rm -Iv'  # Confirm before removing

# Grep with color
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'

# System Utilities
alias reload!='exec zsh'  # Reload Zsh config
alias cls='clear'
alias c='clear'
alias src='source ~/.zshrc'
alias editrc='nano ~/.zshrc'

# Disk & Memory
alias usage="du -h --max-depth=1"
alias mem="free -h"
alias cpu="lscpu"
alias temp="sensors"
alias disk="df -h"

# Logs & Processes
alias journal="journalctl -xe"
alias logs="sudo journalctl -f"
alias psfind="ps aux | grep"
alias ports="sudo ss -tulnp"

# Network Tools
alias myip="curl ifconfig.me"
alias localip="ip a | grep 'inet ' | grep -v 127.0.0.1"
alias ping="ping -c 5"
alias speed="fast"
alias netstat="ss -tulnp"

# System Services (generic)
alias start="systemctl start"
alias stop="systemctl stop"
alias restart="systemctl restart"
alias enable="systemctl enable"
alias disable="systemctl disable"

alias killcpu='~/.scripts/kil_high_cpu.sh'
alias brename='~/.scripts/bulk_rename.sh' #brename 
alias sysmonitor='~/.scripts/sys_monitor.sh'
alias diagnostics='~/.scripts/dignostics.sh'
alias netdiag='~/scripts/network_diagnostics.sh'
alias wifiscan='~/scripts/wifi_signal.sh'
alias bigfiles='~/scripts/find_large_files.sh'
alias screentext='~/scripts/screenshot_ocr.sh'
alias perfbench='~/scripts/performance_benchmark.sh'
alias autoshutdown='~/scripts/auto_shutdown.sh'
alias termrec='~/scripts/record_terminal.sh'
alias sysupdate='~/scripts/auto_update.sh'
alias watchdir='~/scripts/watch_directory.sh'

# Fuzzy Finder (if installed)
if command -v fzf &>/dev/null; then
    alias fzfp="find . | fzf"
fi

# Bat (better `cat` replacement)
if command -v bat &>/dev/null; then
    alias cat='bat --style=plain'
fi

# Use `duf` for better disk usage overview
if command -v duf &>/dev/null; then
    alias df='duf --only local'
fi

# Use `htop` if installed
if command -v htop &>/dev/null; then
    alias top='htop'
fi

# Exa (Better `ls`)
if command -v exa &>/dev/null; then
    alias ls='exa --icons'
    alias ll='exa -l --icons'                      # Long format
    alias la='exa -la --icons'                     # Long format, including hidden files
    alias lt='exa -lT --icons'                     # Tree view
    alias ltr='exa -lT --icons --reverse'          # Tree view, reversed
    alias lr='exa -l --reverse --icons'            # Long format, reversed
    alias l1='exa -1 --icons'                      # One file per line
    alias ld='exa -ld --icons */'                  # List directories only
    alias lg='exa -l --git --icons'                # Show Git metadata
    alias lf='exa -l --icons | grep'               # List files and grep results
    alias lsd='exa -D --icons'                     # Only show directories
fi

# Function to force clone dotfiles repository with backup and move files to home directory
clone_dotfiles() {
    DOTFILES_REPO="https://github.com/andrewgari/.dotfiles"
    DOTFILES_DIR="$HOME/.dotfiles"
    BACKUP_DIR="$HOME/.dotfiles_backup_$(date +%Y%m%d%H%M%S)"
    
    if [[ -d "$DOTFILES_DIR" ]]; then
        echo "Backing up existing dotfiles to $BACKUP_DIR..."
        mv "$DOTFILES_DIR" "$BACKUP_DIR"
    fi
    
    echo "Cloning dotfiles repository..."
    git clone "$DOTFILES_REPO" "$DOTFILES_DIR"
    
    echo "Moving dotfiles to home directory..."
    rsync -av --ignore-existing "$DOTFILES_DIR/" "$HOME/"
}

# -----------------------------
# Podman (Docker Alternative)
# -----------------------------

if command -v podman &>/dev/null; then
    alias docker="podman"
    alias dockerps="podman ps --format table"
    alias dockerimages="podman images"
    alias dockerrm="podman rm -f"
    alias dockerrmi="podman rmi -f"
    alias dockerstop="podman stop"
    alias dockerstart="podman start"
    alias dockerlogs="podman logs -f"

    # Docker-style shortcuts
    alias dps='docker ps'
    alias dpa='docker ps -a'
    alias drm='docker rm $(docker ps -aq)'
    alias dstop='docker stop $(docker ps -q)'
fi

# -----------------------------
# Zoxide Smart Navigation
# -----------------------------

if command -v zoxide &>/dev/null; then
    eval "$(zoxide init zsh)"

    # Zoxide Aliases
    alias z='zoxide query --exclude "$(pwd)"'  # Jump using partial names
    alias zi='zoxide query --interactive'      # Interactive fuzzy search
fi

